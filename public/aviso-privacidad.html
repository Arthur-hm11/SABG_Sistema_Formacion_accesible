<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="color-scheme" content="light">
  <title>Aviso de Privacidad</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      background: #fff;
      overscroll-behavior: none;
      -webkit-text-size-adjust: 100%;
    }
    .wrap{
      height: 100%;
      display: flex;
      flex-direction: column;
      background: #fff;
    }
    .bar{
      padding: 10px 12px;
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      font-size: 14px;
      color: #111;
      border-bottom: 1px solid #eee;
      background: #fff;
    }
    .bar a{ color:#0b57d0; text-decoration: underline; }
    .viewer{
      flex: 1;
      width: 100%;
      border: 0;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="bar">
      Aviso de Privacidad (PDF). Si no se visualiza, <a href="/public/aviso_privacidad.pdf" target="_blank" rel="noopener">ábrelo aquí</a>.
    </div>

    <iframe class="viewer" src="/public/aviso_privacidad.pdf"></iframe>
  </div>
<!-- SABG_IOS_BOUNCE_LOCK_START -->
<script>
(function () {
  // Solo iOS (Safari/Chrome iOS usan WebKit)
  var isIOS = /iP(ad|hone|od)/.test(navigator.userAgent);
  if (!isIOS) return;

  // Si hay contenedor scroll, lo usamos; si no, usamos body
  var scroller = document.querySelector('.viewer') || document.querySelector('.page') || document.body;

  // Evitar rubber-band: bloquear touchmove cuando estás en top/bottom
  var startY = 0;

  document.addEventListener('touchstart', function(e) {
    if (!e.touches || !e.touches.length) return;
    startY = e.touches[0].clientY;
  }, { passive: true });

  document.addEventListener('touchmove', function(e) {
    if (!e.touches || !e.touches.length) return;

    var y = e.touches[0].clientY;
    var dy = y - startY;

    // Determina scrollTop/Height del contenedor scroll real
    var el = scroller;

    // Si es iframe (PDF), no podemos leer su scroll; bloqueamos el rebote general del viewport:
    // (esto es lo que evita que "se vea atrás")
    if (el && el.tagName === 'IFRAME') {
      // Si jalas hacia abajo estando arriba, o hacia arriba estando abajo, cancela.
      // Como no podemos medir, cancelamos cualquier intento de overscroll del viewport.
      e.preventDefault();
      return;
    }

    var st = el.scrollTop || 0;
    var sh = el.scrollHeight || 0;
    var ch = el.clientHeight || 0;

    var atTop = st <= 0;
    var atBottom = (st + ch) >= (sh - 1);

    if ((atTop && dy > 0) || (atBottom && dy < 0)) {
      e.preventDefault();
    }
  }, { passive: false });
})();
</script>
<!-- SABG_IOS_BOUNCE_LOCK_END -->

</body>
</html>
